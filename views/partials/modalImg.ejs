
<!-- The Modal -->
<div id="modalDiv" class="modal">
    <!-- The Close Button -->
    <span class="close">&times;</span>

    <!-- Modal Content (The Image) -->
    <img class="modal-content" id="modalContent">

    <!-- Modal Caption (Image Text) -->
    <div id="caption"></div>
</div>

<script>
  function initModal() {
    var modal = document.getElementById("modalDiv");
  
    var slide = document.querySelector('.active');
    var img = slide.querySelector('.zoomableImg');
    var modalImg = document.getElementById("modalContent");
    var captionText = document.getElementById("caption");
    if(img !== null) {
      img.onclick = function(){
        modal.style.display = "block";
        modalImg.src = this.src;
        captionText.innerHTML = img.alt;
      }
    }
    
    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];
    
    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
      modal.style.display = "none";
    }

    document.addEventListener('keydown', function(event) {
      if (event.keyCode === 27) { // 27 is the key code for the ESC key
        span.click();
      }
    });
  }
  initModal();
</script>